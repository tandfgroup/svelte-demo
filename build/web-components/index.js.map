{"version":3,"file":"index.js","sources":["../../../src/web-components/Crud/index.svelte"],"sourcesContent":["<svelte:options tag=\"crud-app\"/>\n<script>\n\tlet people = [\n\t\t{ first: 'Hans', last: 'Emil' },\n\t\t{ first: 'Max', last: 'Mustermann' },\n\t\t{ first: 'Roman', last: 'Tisch' }\n\t];\n\n\tlet prefix = '';\n\tlet first = '';\n\tlet last = '';\n\tlet i = 0;\n\n\t$: filteredPeople = prefix\n\t\t? people.filter(person => {\n\t\t\tconst name = `${person.last}, ${person.first}`;\n\t\t\treturn name.toLowerCase().startsWith(prefix.toLowerCase());\n\t\t})\n\t\t: people;\n\n\t$: selected = filteredPeople[i];\n\n\t$: reset_inputs(selected);\n\n\tfunction create() {\n\t\tpeople = people.concat({ first, last });\n\t\ti = people.length - 1;\n\t\tfirst = last = '';\n\t}\n\n\tfunction update() {\n\t\tselected.first = first;\n\t\tselected.last = last;\n\t\tpeople = people;\n\t}\n\n\tconst buttonClicked = (type) => {\n\t\talert(JSON.stringify(type))\n\t\tswitch (type) {\n\t\t\tcase \"create\":\n\t\t\t\tcreate()\n\t\t\t\tbreak;\n\t\t\tcase \"update\":\n\t\t\t\tupdate()\n\t\t\t\tbreak;\n\t\t\tcase \"delete\":\n\t\t\t\tremove()\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tfunction remove() {\n\t\t// Remove selected person from the source array (people), not the filtered array\n\t\tconst index = people.indexOf(selected);\n\t\tpeople = [...people.slice(0, index), ...people.slice(index + 1)];\n\n\t\tfirst = last = '';\n\t\ti = Math.min(i, filteredPeople.length - 2);\n\t}\n\n\tfunction reset_inputs(person) {\n\t\tfirst = person ? person.first : '';\n\t\tlast = person ? person.last : '';\n\t}\n</script>\n<div>\n\t<div class=\"actions\">\n\t\t<div class=\"select-items\">\n\t\t\t<input placeholder=\"filter prefix\" bind:value={prefix}>\n\t\t\n\t\t\t<select bind:value={i} size={5}>\n\t\t\t\t{#each filteredPeople as person, i}\n\t\t\t\t\t<option value={i}>{person.last}, {person.first}</option>\n\t\t\t\t{/each}\n\t\t\t</select>\n\t\t</div>\n\t\t<div>\n\t\t\t<label><input bind:value={first} placeholder=\"first\"></label>\n\t\t\t<label><input bind:value={last} placeholder=\"last\"></label>\n\t\t</div>\t\t\n\t</div>\n\n\t<crud-app-buttons on:buttonClicked={e => buttonClicked(e.detail)} first={first}  last={last} selected={selected}/>\n</div>\n\n\n<style global>\n\t:host{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\t\t\n\t\talign-items: center;\n\t}\n\t\n\n\t.actions{\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: center;\n\t\tmargin-bottom: var(--vertical-gap, 0.5em);\n\t}\n\t.select-items{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmargin-right: var(--horizontal-gap, 0.5em);\n\t}\n\t\n\t* {\n\t\tfont-family: inherit;\n\t\tfont-size: inherit;\n\t}\n</style>"],"names":["ctx","last","first","insert","length","append","people","prefix","i","buttonClicked","type","alert","JSON","stringify","concat","selected","index","indexOf","slice","Math","min","filteredPeople","remove","person","filter","toLowerCase","startsWith","e","detail"],"mappings":"iRAyEwBA,MAAOC,UAAQD,MAAOE,6CAAV,yBAAhBF,+BAAfG,kDAAmBH,MAAOC,6BAAQD,MAAOE,wFADnCF,0BAALI,+SAD0B,YAATJ,gJAYmDA,iBAAcA,qBAAgBA,cAjBxGG,SACCE,OACCA,OACCA,WAA+CL,aAE/CK,sDAAoBL,aAMrBK,OACCA,OAAOA,WAAmBL,aAC1BK,OAAOA,WAAmBL,aAI5BK,uJAdiDL,UAAAA,uBAGvCA,aAALI,6HAAAA,gBADiBJ,sBAOMA,UAAAA,sBACAA,UAAAA,wBAI6CA,uBAAcA,0BAAgBA,yEAjFnGM,IACDJ,MAAO,OAAQD,KAAM,SACrBC,MAAO,MAAOD,KAAM,eACpBC,MAAO,QAASD,KAAM,UAGrBM,EAAS,GACTL,EAAQ,GACRD,EAAO,GACPO,EAAI,QAyBFC,EAAiBC,WACtBC,MAAMC,KAAKC,UAAUH,IACbA,OACF,aAdNJ,EAASA,EAAOQ,QAASZ,MAAAA,EAAOD,KAAAA,SAChCO,EAAIF,EAAOF,OAAS,OACpBF,MAAQD,EAAO,eAeT,aAXNc,EAASb,MAAQA,SACjBa,EAASd,KAAOA,sBAaV,2BASAe,EAAQV,EAAOW,QAAQF,OAC7BT,MAAaA,EAAOY,MAAM,EAAGF,MAAWV,EAAOY,MAAMF,EAAQ,SAE7Dd,MAAQD,EAAO,SACfO,EAAIW,KAAKC,IAAIZ,EAAGa,EAAejB,OAAS,IAZtCkB,iCAemBC,sBAhDnBF,EAAiBd,EACjBD,EAAOkB,QAAOD,MACCA,EAAOtB,SAASsB,EAAOrB,QAC3BuB,cAAcC,WAAWnB,EAAOkB,iBAE3CnB,sBAEAS,EAAWM,EAAeb,uBA0C5BN,GADqBqB,EAvCNR,GAwCEQ,EAAOrB,MAAQ,QAChCD,EAAOsB,EAASA,EAAOtB,KAAO,kCAMkBM,gCAE3BC,6BAOMN,gCACAD,qBAIQ0B,GAAKlB,EAAckB,EAAEC"}